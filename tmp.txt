		time python3 -m nmt.nmt_mine \
	    --attention=scaled_luong \
	    --src=cloze --tgt=ans \
	    --vocab_prefix=../Data/my_nmt/text8_vocab10000  \
	    --train_prefix=../Data/my_nmt/text8_nmt \
	    --dev_prefix=../Data/my_nmt/text8_nmt_dev  \
	    --test_prefix=../Data/my_nmt/center \
	    --out_dir=./output \
	    --num_train_steps=12000 \
	    --steps_per_stats=100 \
	    --num_units=128 \
	    --metrics=accuracy \
	    --inference_ref_file=../Data/my_nmt/center_ans.txt \
	    --inference_output_file=./output/model_output.txt
      
      
      
      	    入力はhogehoge_cloze.txt
	    出力はhogehoge_ans.txt

time python3 -m nmt.nmt \
--attention=scaled_luong \
--src=cloze --tgt=ans \
--vocab_prefix=../Data/my_nmt/enwiki_vocab30000  \
--train_prefix=../Data/my_nmt/miniWiki_head500_nmt \
--dev_prefix=../Data/my_nmt/miniWiki_tail100_nmt  \
--test_prefix=../Data/my_nmt/center \
--out_dir=./output \
--num_train_steps=12000 \
--steps_per_stats=100 \
--num_units=128 \
--metrics=accuracy \
--share_vocab=True \
--inference_ref_file=../Data/my_nmt/center.ans \
--inference_output_file=./output/model_output_tmp.txt


time python3 -m nmt.nmt \
--attention=scaled_luong \
--src=cloze --tgt=ans \
--vocab_prefix=../Data/my_nmt/enwiki_vocab30000  \
--train_prefix=../Data/my_nmt/miniWiki_head500_nmt \
--dev_prefix=../Data/my_nmt/miniWiki_tail100_nmt  \
--test_prefix=../Data/my_nmt/center \
--out_dir=./output \
--num_train_steps=12000 \
--steps_per_stats=100 \
--num_layers=2 \
--num_units=128 \
--dropout=0.2 \
--metrics=bleu



  File "/home/tamaki/M2/Tensorflow/mine2018_4to7/nmt/nmt/model.py", line 303, in build_graph
    encoder_outputs, encoder_state, hparams)
  File "/home/tamaki/M2/Tensorflow/mine2018_4to7/nmt/nmt/model.py", line 466, in _build_decoder
    scope=decoder_scope)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/seq2seq/python/ops/decoder.py", line 315, in dynamic_decode
    final_outputs = nest.map_structure(lambda ta: ta.stack(), final_outputs_ta)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py", line 387, in map_structure
    structure[0], [func(*x) for x in entries])
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py", line 387, in <listcomp>
    structure[0], [func(*x) for x in entries])
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/seq2seq/python/ops/decoder.py", line 315, in <lambda>
    final_outputs = nest.map_structure(lambda ta: ta.stack(), final_outputs_ta)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 891, in stack
    return self._implementation.stack(name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 290, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 304, in gather
    element_shape=element_shape)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4211, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 3160, in create_op
    op_def=op_def)
  File "/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py", line 1625, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

UnimplementedError (see above for traceback): TensorArray has size zero, but element shape [?] is not fully defined. Currently only static shapes are supported when packing zero-size TensorArrays.
	 [[Node: dynamic_seq2seq/decoder/decoder/TensorArrayStack_1/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@dynamic_seq2seq/decoder/decoder/TensorArray_1"], dtype=DT_INT32, element_shape=[?], _device="/job:localhost/replica:0/task:0/device:CPU:0"](dynamic_seq2seq/decoder/decoder/TensorArray_1, dynamic_seq2seq/decoder/decoder/TensorArrayStack_1/range, dynamic_seq2seq/decoder/decoder/while/Exit_2)]]





